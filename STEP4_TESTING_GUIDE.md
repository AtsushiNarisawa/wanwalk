# ステップ4: テスト実施ガイド

## 📋 前提条件

- ✅ ステップ1完了: マイグレーション実行済み
- ✅ ステップ2完了: 3つのテストアカウント作成済み
- ✅ ステップ3完了: テストデータ投入済み

---

## 🚀 テスト実施

このステップでは、`PHASE5_TEST_GUIDE.md` に従って実際に機能をテストします。

### アプリを起動

```bash
cd /home/user/webapp/wanmap_v2
flutter run
```

⏳ アプリが起動するまで待つ

---

## 📝 テストチェックリスト

以下のチェックリストに従って、各機能をテストしてください。
テスト完了時に ✅ をつけ、問題があれば ❌ をつけて詳細を記録してください。

---

### Phase 5-1: ルート検索・フィルター

#### テスト1: ルート検索画面へのアクセス
- [ ] ホーム画面から検索アイコンが見える
- [ ] 検索アイコンをタップして検索画面に遷移できる
- [ ] 検索バーが表示される
- [ ] ソートチップが表示される（人気順、距離↑、距離↓、評価、新着）
- [ ] フィルターボタンが表示される
- [ ] 初期状態でルート一覧が表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト2: テキスト検索
- [ ] 検索バーに「公園」と入力
- [ ] リアルタイムで検索結果が更新される
- [ ] 「公園」を含むルートのみ表示される
- [ ] 検索結果件数が表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト3: フィルター適用
- [ ] フィルターボタンをタップ
- [ ] フィルターボトムシートが開く
- [ ] 難易度フィルター（初級・中級・上級）が表示される
- [ ] 距離スライダー（0~20km）が表示される
- [ ] エリアフィルターが表示される
- [ ] フィルターを適用して「適用」ボタンをタップ
- [ ] 検索結果がフィルタリングされる
- [ ] フィルターボタンにバッジが表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト4: ソート変更
- [ ] 「距離↑」チップをタップ
- [ ] 結果が距離の昇順に並び替わる
- [ ] 選択中のチップがハイライトされる

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト5: 無限スクロール
- [ ] 検索結果を下にスクロール
- [ ] 80%に達すると自動的に次のページが読み込まれる
- [ ] ローディングインジケーターが表示される
- [ ] 追加のルートが表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト6: お気に入り登録/解除
- [ ] 任意のルートカードのハートアイコンをタップ
- [ ] ハートアイコンが塗りつぶされる
- [ ] お気に入り数が1増加する
- [ ] もう一度タップして解除
- [ ] ハートアイコンが元に戻る
- [ ] お気に入り数が1減少する

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

### Phase 5-2: お気に入り・ブックマーク

#### テスト7: お気に入り画面へのアクセス
- [ ] ホーム画面から「保存済み」タブをタップ（またはメニューから）
- [ ] 2つのタブが表示される（ルート、ピン）
- [ ] デフォルトで「ルート」タブが選択されている

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト8: お気に入りルート表示
- [ ] 「ルート」タブでお気に入りに追加したルートが表示される
- [ ] ルート名、距離、難易度、エリアが表示される
- [ ] お気に入り日時が表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト9: Pull-to-refresh
- [ ] 画面を下に引っ張る
- [ ] リフレッシュインジケーターが表示される
- [ ] データが再読み込みされる

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

### Phase 5-3: ユーザー統計

#### テスト10: プロフィール画面から統計確認
- [ ] ホーム画面 → プロフィールボタンをタップ
- [ ] プロフィール画面が表示される
- [ ] 統計情報カードが表示される
- [ ] 総ルート数、総距離、総時間が表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト11: 統計ダッシュボードへのアクセス
- [ ] プロフィール画面から「統計ダッシュボード」をタップ
- [ ] 統計ダッシュボード画面が表示される
- [ ] レベルカードが表示される
- [ ] 現在のレベルと次のレベルが表示される
- [ ] 経験値バーが表示される
- [ ] 統計グリッドが表示される（距離、散歩回数、エリア、ピン）

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト12: バッジサマリー
- [ ] 統計ダッシュボードのバッジサマリーカードが表示される
- [ ] 獲得済みバッジ数が表示される
- [ ] 達成率（パーセンテージ）が表示される
- [ ] 進捗バーが表示される
- [ ] 「バッジを見る」ボタンをタップしてバッジ一覧に遷移できる

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト13: 最近獲得したバッジ
- [ ] 統計ダッシュボードの「最近獲得したバッジ」セクションが表示される
- [ ] 最新3件の獲得バッジが表示される
- [ ] バッジアイコン、名前、ティア、獲得日時が表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

### Phase 5-4: ソーシャル機能

#### テスト14: ユーザー検索
- [ ] プロフィール画面 → ユーザー検索アイコンをタップ
- [ ] 検索バーに「test」と入力
- [ ] リアルタイムで検索結果が表示される
- [ ] ユーザーカードにアバター、表示名、フォロワー数が表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト15: ユーザープロフィール表示
- [ ] 検索結果から任意のユーザーをタップ
- [ ] ユーザープロフィール画面が表示される
- [ ] アバター画像が表示される
- [ ] 表示名、自己紹介が表示される
- [ ] フォロワー数/フォロー中数が表示される
- [ ] フォローボタンが表示される
- [ ] 統計情報が表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト16: フォロー/アンフォロー
- [ ] ユーザープロフィール画面でフォローボタンをタップ
- [ ] ボタンが「フォロー中」に変わる
- [ ] フォロワー数が1増加する
- [ ] もう一度タップしてアンフォロー
- [ ] ボタンが「フォロー」に戻る
- [ ] フォロワー数が1減少する

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト17: 通知センター
- [ ] ホーム画面 → 通知アイコンをタップ
- [ ] 通知一覧が表示される
- [ ] 通知が新しい順に表示される
- [ ] 未読通知がハイライトされる
- [ ] 通知タイプごとにアイコンが異なる
- [ ] 相対時刻が表示される（「3時間前」など）

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト18: 通知のインタラクション
- [ ] 通知をタップして関連画面に遷移できる
- [ ] 通知を左にスワイプして削除できる
- [ ] 「すべて既読にする」ボタンをタップ
- [ ] 全通知が既読になる
- [ ] 未読バッジが消える

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

### Phase 5-5: バッジシステム

#### テスト19: バッジ一覧画面へのアクセス
- [ ] プロフィール画面 → 「バッジコレクション」をタップ
- [ ] バッジ一覧画面が表示される
- [ ] 5つのカテゴリタブが表示される（距離、エリア、ピン、ソーシャル、特別）
- [ ] ヘッダーに統計情報が表示される（獲得数、全バッジ数、達成率）
- [ ] 進捗バーが表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト20: カテゴリ別バッジ表示
- [ ] 各カテゴリタブをタップして確認
- [ ] バッジが2列のグリッドで表示される
- [ ] 獲得済みバッジが上に表示される
- [ ] ロック中のバッジがグレーアウトされる

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト21: バッジカード表示
- [ ] 獲得済みバッジ: カラフルなアイコンが表示される
- [ ] 獲得済みバッジ: ティアカラーのグラデーションが表示される
- [ ] 獲得済みバッジ: バッジ名、ティア、説明が表示される
- [ ] 獲得済みバッジ: 獲得日時が表示される
- [ ] 未獲得バッジ: グレーアウトされたアイコンが表示される
- [ ] 未獲得バッジ: 「ロック中」と表示される

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト22: ティア別カラー確認
- [ ] ブロンズバッジ: 銅色が適用されている
- [ ] シルバーバッジ: 銀色が適用されている
- [ ] ゴールドバッジ: 金色が適用されている
- [ ] プラチナバッジ: プラチナ色が適用されている
- [ ] アイコンの枠とティアラベルが同じ色

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

#### テスト23: Pull-to-refresh
- [ ] バッジ一覧画面を下に引っ張る
- [ ] リフレッシュインジケーターが表示される
- [ ] データが再読み込みされる

**問題があった場合:**
```
[問題の詳細をここに記入]
```

---

## 📊 テスト結果サマリー

### 実施日時
- テスト開始: _______________
- テスト終了: _______________

### テスト結果
- 合格: ____ / 23
- 不合格: ____ / 23
- スキップ: ____ / 23

### 発見された重大なバグ
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

### 発見された軽微なバグ
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

### UI/UXの改善提案
1. _______________________________________________
2. _______________________________________________
3. _______________________________________________

---

## 🎉 テスト完了後

全てのテストが完了したら:

1. **バグ報告書を作成**
   - 発見されたバグの詳細
   - 再現手順
   - スクリーンショット（可能であれば）

2. **開発チームに報告**
   - このテスト結果を共有
   - 優先度を相談

3. **次のステップを決定**
   - バグ修正
   - または次のフェーズ（Phase 6）の計画

---

**お疲れ様でした！Phase 5のテストが完了しました。🎊**
